// This helps with manifest merging
android {
    defaultConfig {
        manifestPlaceholders = [appAuthRedirectScheme: applicationId]
    }
}

// Force consistent AndroidX versions
configurations.all {
    resolutionStrategy {
        force "androidx.core:core:1.8.0"
        force "androidx.appcompat:appcompat:1.5.1"
    }
}

// Fix manifest merging
androidComponents {
    onVariants(selector().all()) { variant ->
        variant.androidResources.manifestMerger = "androidx"
    }
}